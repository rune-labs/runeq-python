# runeq

Private development repo for Python SDK for querying data using Rune's APIs.

Public repository: [https://github.com/rune-labs/runeq-python](https://github.com/rune-labs/runeq-python)

The README for the public repo can be viewed in [PUBLIC.md](./PUBLIC.md).

## Install from Source

To test `runeq` _before_ a new version has been released to PyPI, you can install
it using the source code in this repository:

* Activate the virtual environment where you want to install `runeq`
* Check out this repository locally (and cd into top level directory).
Pull the latest changes from master, if needed.
* Run `pip install .`

In your Python environment, you can now import and use `runeq` as usual.

## Build Docs

Documentation is autogenerated using `sphinx`. To browse the latest
documentation locally, you can build it yourself: 

    pip install sphinx
    make -C docs html

Then, open the following file in your browser:
    
    ./docs/_build/html/index.html

## Manual Releases

Package distribution should only happen from the master branch of the
[public repository](https://github.com/rune-labs/runeq-python).

1. Make sure that the package version has been bumped (in setup.py)
1. Re-generate distribution archives
    ```bash
    rm -rf dist/ build/
    pip3 install -U twine setuptools wheel
    python3 setup.py sdist bdist_wheel
    ```
1. Upload the new version to PyPI. You will need a PyPI API token. You can
save it in a config file, or, when prompted, use `__token__` as the username,
and the token as the password (including the `pypi-` prefix).
    ```bash
    python3 -m twine upload dist/*
    ```
1. Create a Github Release with the version number (called `Release vX.X.X`)
1. Update documentation in [Read The Docs](https://readthedocs.org) (My Projects > runeq > Builds > Build Version). 
This must be done manually until GitHub web hooks are set up.


References:

* https://packaging.python.org/tutorials/packaging-projects/
